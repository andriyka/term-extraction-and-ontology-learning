Undecidability of Interval Temporal Logics with the Overlap Modality * Davide Bresolin1 , Dario Della Monica2 , Valentin Goranko3 , Angelo Montanari2 , Guido Sciavicco4 1 University of Verona, Verona, Italy, 2 University of Udine, Udine, Italy 3 Technical University of Denmark, Denmark, 4 University of Murcia, Murcia, Spain 1  davide.bresolin@univr.it, 2 {dario.dellamonica|angelo.montanari}@dimi.uniud.it, 3 vfgo@imm.dtu.dk, 4 guido@um.es  Abstract We investigate fragments of Halpern-Shoham's interval logic HS involving the modal operators for the relations of left or right overlap of intervals.
We prove that most of these fragments are undecidable, by employing a non-trivial reduction from the octant tiling problem.
1.
Introduction Interval temporal logics are based on temporal structures over linearly (or partially) ordered domains, where time intervals, rather than time instants, are the primitive ontological entities.
A systematic analysis of the variety of relations between intervals on linear orders was first accomplished by Allen [1], who explored the use of interval reasoning in systems for time management and planning.
The problem of representing and reasoning about time intervals arises naturally in various other fields of computer science, artificial intelligence, and temporal databases, such as theories of action and change, natural language processing, and constraint satisfaction problems.
Temporal logics with intervalbased semantics have also been proposed as a useful formalism for the specification and verification of hardware [16] and of real-time systems [8].
Interval temporal logics feature modal operators that correspond to various relations between intervals, in particular the thirteen different binary interval relations on linear orders, known as Allen's relations [1].
In [11], Halpern and Shoham introduce a modal logic for reasoning about interval structures, nowadays known as HS, with modal operators corresponding to Allen's interval relations.
This logic turns out to be undecidable under very weak assumptions on the class of interval structures [11].
In particular, undecid* Valentin Goranko and Guido Sciavicco were partially supported by the Spain/South Africa research project HS2008-0006; Guido Sciavicco was also co-financed by the Spanish project TIN2006-15460-C04-01.
Davide Bresolin was partially supported by the EU projects FP7-ICT-217069 COCONUT and FP7-ICT-223844 CON4COORD.
ability holds for any class of interval structures over linear orders that contains at least one linear order with an infinite ascending (or descending) chain, thus including the natural time flows N, Z, Q, and R. The complex and generally bad computational behavior of interval temporal logics is essentially due to the fact that formulas are evaluated over pairs of points and translate into binary relations.
In a few cases, decidability has been recovered by imposing severe restrictions on the set of modalities and/or on the interval-based semantics, which essentially reduce the logic to a pointbased one.
For a long time, the sweeping undecidability results of Halpern and Shoham have discouraged attempts for practical applications and further research on interval logics.
A renewed interest in the area has been recently stimulated by the discovery of some interesting decidable fragments of HS [4, 5, 6, 7].
The classification of decidable and undecidable fragments of HS has thus become one of the major topics of the current research agenda in interval temporal logics.
The current state of affairs in that area has recently been been summarized in [3], where the main techniques so far exploited for proving decidability and undecidability have been presented.
Such results have so far been obtained for fragments of HS involving all, but one, pairs of modal operators, with respect to various classes of linear orders.
The only so far unexplored case is the one of fragments involving the operators hOi and/or its transpose hOi, which respectively capture the Overlap relation and its inverse.
Such logics have received almost no attention in the literature (the only exception we are aware of is a number of representation theorems for interval structures containing such a relation, which have recently been obtained in [9]).
In this paper, we show that most extensions of the interval logic of Overlap are undecidable, thus making a further step toward the complete classification of the (un)decidability of all HS fragments.
The proofs employ a non-trivial reduction from the octant tiling problem.
The idea of using tiling problems to prove undecidability of interval logics and many-dimensional logics goes back to [15] and it has been subsequently applied to the compass logic [14], to various product logics [10], to modal spatial logics  of topological relations [13], and to other fragments of HS [3, 6].
Most of these results, however, apply to (relatively) more expressive logical languages than those considered in the present paper.
Moreover, the techniques for the encoding of tiling problems used so far do not transfer to our cases in any obvious way.
The paper is structured as follows.
In Section 2 we introduce syntax and semantics of the logics of the Overlap relation.
In Section 3, we provide a detailed account of the undecidability proofs for the fragments AO, AO, AO, and A O.
In Section 4, we summarize the undecidability results for other extensions.
In the conclusion, we provide an assessment of the work and outline future research directions.
2.
The logics of the Overlap relation Let D = hD, <i be a linearly ordered set.
An interval over D can be defined as an ordered pair [a, b], where a, b [?]
D and a < b, thus excluding intervals with coincident endpoints (strict semantics).
As an alternative, one can define an interval over D as a pair [a, b], with a, b [?]
D and a <= b (non-strict semantics).
Hereafter, we confine our attention to strict semantics; as we will show later, the non-strict case can be easily reduced to the strict one.
In general, the language of a propositional interval logic with unary modalities consists of a set AP of propositional letters, any complete set of boolean operators (such as [?]
and !
), and a set of unary modal operators hX1 i,.
.
.
,hXk i, each of them associated with a specific binary relation over intervals (decidability issues for binary modal operators have been addressed in [12]).
Formulas are defined by the grammar: ph ::= p | !ph | ph [?]
ph | hX1 iph | .
.
.
| hXk iph, The semantics is given in terms of interval models M = hI(D), V i, where I(D) is the set of all intervals over D and the valuation function V : AP 7- 2I(D) assigns to every p [?]
AP the set of intervals V (p) over which it holds.
The truth of a formula over a given interval [a, b] in a model M is defined by structural induction on formulas: * M, [a, b]  p iff [a, b] [?]
V (p), for all p [?]
AP; * M, [a, b]  !ps iff it is not the case that M, [a, b]  ps; * M, [a, b]  ph [?]
ps iff M, [a, b]  ph or M, [a, b]  ps; * M, [a, b]  hXi ips iff there exists an interval [c, d] such that [a, b] RXi [c, d] and M, [c, d]  ps, where RXi is the binary interval relation corresponding to the unary modal operator hXi i.
In the following, we will focus our attention on a specific family of HS fragments and, for that purpose, we will assume all operators listed in Fig.
1 and their transposes to be primitive in the language, where by a transpose of a unary modal operator hXi we mean the modal operator hXi for  the inverse of X.
It is worth pointing out that the semantics of the operators slightly differs from the original one [11], which do not perfectly match the semantics of Allen's relations.
As a general notation rule, we will denote any fragment of HS with the set of its operators; for example, the HS fragment featuring the operators hAi and hOi will be denoted by AO.
Also, we will denote by X*1 X*2 the set consisting of the fragments X1 X2 , X1 X2 , X1 X2 , and X1 X2 .
The family of fragments of HS we consider here includes A* O* , B* O* , E* O* , and D* O* .
We will prove that all these logics are undecidable.
We will give the details of the undecidability proof for the logics A* O* ; the proofs for the other logics in the class are quite similar.
Besides, we have been able to prove the undecidability of the logic OO with respect to any class of discrete linear orders.
For lack of space, proof details for this case are omitted, but they will be included in an extended forthcoming version.
All results are readily transferable to the case of non-strict semantics, using the formula hOi> to impose the requirement that every interval we deal with has an internal point.
3.
Undecidability of the logics A* O* In this section, we show that the logics AO, AO, AO, and A O are undecidable.
In fact, we will prove the undecidability of the satisfiability problem for AO and then we will show that the proof can be tailored to deal with the other cases.
For these proofs we will use a reduction from the tiling problem for the second octant O of the integer plane Z x Z.
3.1.
The tiling problem for O The tiling problem for O is the problem of establishing whether a given finite set of tile types T = {t1 , .
.
.
, tk } can tile O = {(i, j) : i, j [?]
N [?]
0 <= i <= j}.
For every tile type ti [?]
T , let right(ti ), lef t(ti ), up(ti ), and down(ti ) be the colors of the corresponding sides of ti .
To solve the problem, one must find a function f : O - T such that right(f (n, m)) = lef t(f (n + 1, m)), with n < m, and up(f (n, m)) = down(f (n, m + 1)).
Using Konig's lemma one can prove that a tiling system tiles an octant if and only if it tiles arbitrarily large squares if and only if it tiles N x N if and only if it tiles Z x Z.
The undecidability of the former thus immediately follows from that of the latter [2].
3.2.
Generic reduction of the tiling problem for O to satisfiability in interval logics Hereafter, we assume that AP contains some special propositional letters: {u, Id, tile, *, b, f} and others that will  Op.
hAi hLi hBi hEi hDi hOi  Semantics M, [a, b]  hAiph = [?
]c(b < c.M, [b, c]  ph) M, [a, b]  hLiph = [?
]c, d(b < c < d.M, [c, d]  ph) M, [a, b]  hBiph = [?
]c(a < c < b.M, [a, c]  ph) M, [a, b]  hEiph = [?
]c(a < c < b.M, [c, b]  ph) M, [a, b]  hDiph = [?
]c, d(a < c < d < b.M, [c, d]  ph) M, [a, b]  hOiph = [?
]c, d(a < c < b < d.M, [c, d]  ph) Figure 1.
The semantics of basic interval modalities.
be introduced in due course.
For every propositional letter q, we denote by the expression q-interval an interval satisfying q.
We will provide a reduction of the tiling problem for O to the satisfiability problem for any fragment F of HS considered here in any class of interval models containing at least one model M with an unbounded-to-the-right (for the logics AO and AO) or unbounded-to-the-left (for the logics AO and A O) sequence of points.
The reduction is based on the following main steps.
First, we set our framework by forcing the existence of a unique infinite chain of u-intervals (u-chain, for short) on the linear order, which covers an initial segment of the domain.
Such u-intervals will be used as cells ('unit-intervals') to arrange the tiling.
Next, we define a chain of Id-intervals (Id-chain, for short), each of them representing a row of the octant.
An Id-interval is composed by a sequence of u-intervals; each u-interval is used either to represent a part of the plane or to separate two Id-intervals.
In the former case it is labelled with the propositional letter tile, in the latter case it is labelled with the propositional letter *.
Then, we define two relations that connect each tile with its above neighbor and right neighbor in the octant, respectively.
By using these relations, we force the jth Id-interval to contain exactly j tile-intervals.
Finally, we introduce a set of propositional letters T = {t1 , t2 , .
.
.
, tk } corresponding to the set of tile types T = {t1 , t2 , .
.
.
, tk } and we construct a formula PhT belonging to the fragment F which is satisfiable if and only if there exists a proper tiling of the octant O by T , i.e., one that satisfies the color constraints on vertically- and horizontally-adjacent tiles.
In the rest of this section we will illustrate this technique by constructing the formula PhT for the fragment AO.
3.3.
Definition of u-chain and Id-chain Given an interval [a, b], we define G[a,b] as the set of intervals that contains the interval [a, b] and all the intervals starting after a and ending after b.
Moreover, we define the operator [G] (always in the future) as follows: [G]p [?]
p [?]
[O]p [?]
[A]p [?]
[A][A]p. [G]p holds over the interval [a, b] iff p holds over each interval in G[a,b] .
Let [a, b] be the interval over which we evaluate formulas (we may think of it as the interval to the right of which the u-chain starts).
From now on, when we talk about an interval or a set of intervals, we will implicitly refer to intervals belonging to G[a,b] .
We start the encoding by constructing a u-chain of unit intervals: !u [?]
hAiu [?]
hOi> [?]
!hOiu  (1)  [G](u - hAiu) [?]
[G](u - hOi>)  (2)  [G](hAiu - !hOiu)  (3)  [G]((u - * [?]
tile) [?]
(tile - !
*))  (4)  and a Id-chain that encodes the levels of the octant: [G](hAi* - hAiId)  (5)  [G](Id - hAi*)  (6)  [G](hAi* - !hOiId)  (7)  !Id [?]
!hOiId [?]
hAi(* [?]
hAi(tile[?]
hAi * [?
][G](* - hAi(tile [?]
hAitile)))) (1) [?]
.
.
.
[?]
(8)  (8) (9)  Lemma 1.
If M, [a, b]  (9), then there exists a sequence of points b = b01 < b11 < .
.
.
< bk11 = b02 < b12 < .
.
.
< bk22 = b03 < .
.
.
such that for each j > 0 we have: a) M, [bij , bi+1 j ]  u for each 0 <= i < kj and no other interval [c, d] [?]
G[a,b] satisfies u, unless c > bij for each i, j > 0; k b) M, [b0j , bj j ]  Id and no other interval [c, d] [?]
G[a,b] satisfies Id, unless c > bij for each i, j > 0; c) M, [b0j , b1j ]  *, and no other interval [c, d] [?]
G[a,b] satisfies *, unless c > bij for each i, j > 0; d) M, [bij , bi+1 j ]  tile for each 1 <= i < kj , and no other interval [c, d] [?]
G[a,b] satisfies tile, unless c > bij for each i, j > 0; e) k1 = 2 and kl > 2 for each l > 1.
Proof.
a) The existence of such a sequence is guaranteed by (1) and the left conjunct of (2).
Now, suppose, for contradiction, that there exists an interval [c, d] [?]
G[a,b]  satisfying u such that c <= bij for some i, j > 0, and [c, d] 6= [bij , bi+1 j ] for each i >= 0 and for each j > 0.
We distinguish the following cases: * if [c, d] = [a, b] or a < c < b < d, then we have a contradiction with (1); * if c = bij for some i >= 0, j > 0, then we have 0 d 6= bi+1 j .
By (1), there exists a point a such that i+1 0 0 a < a < b.
If d < bj , [a , d] meets the uinterval starting at d, by the first conjunct of (2), and overlaps the u-interval [bij , bi+1 j ], contradicting i+1 (3).
Otherwise, if d > bj , then [a0 , bi+1 j ] meets the u-interval starting at bi+1 and overlaps the uj interval [c, d], contradicting (3); * if c 6= bij for each i >= 0, j > 0, then we have bij < c < bi+1 for some i >= 0 and j > 0.
In j this case, the interval [a0 , c] meets the u-interval starting at c and overlaps the u-interval [bij , bi+1 j ], contradicting (3).
b) The existence of a Id-chain is guaranteed by (5), (6), and (8).
Now suppose, for contradiction, that there exists an interval [c, d] [?]
G[a,b] satisfying Id such that c <= bij  e) k1 = 2 and kl > 2 for each l > 1 immediately follows from (8).
3.4.
The above-neighbor relation We focus now on the 'above-neighbor' relation, whose encoding is shown in Fig.
2.
Intuitively, the above-neighbor relation connects each tile-interval with its vertical neighbor in the octant (e.g., t2,2 with t2,3 in Fig.
2).
We distinguish between backward and forward Id-intervals, which alternate, by labeling each u-interval either with b, if it belongs to a backward Id-interval, or with f, if it belongs to a forward one (formulas from (10) to (12)).
Intuitively, we have that the tile-intervals are placed in ascending order in forward Id-intervals and in descending order in backward Id-intervals.
In particular, this means that the leftmost tile-interval of a backward Id-interval represents the last tile of that level (and not the first one) in the octant plane.
Let a, b [?]
{b, f}, with a 6= b: hAib [?]
[G]((u - b [?]
f) [?]
(b - !f))  (10)  [G](u [?]
a [?]
!hAi* - hAia)  (11)  [G](u [?]
a [?]
hAi* - hAib)  (12)  (10) [?]
.
.
.
[?]
(12)  (13)  k [b0j , bj j ]  for some i, j > 0, and [c, d] 6= for each j > 0.
Notice that c and d start a *-interval by (5) and (6), respectively.
We must consider the following cases: * if [c, d] = [a, b] or a < c < b < d, then we have a contradiction with (8); * if c = b0j for some j > 0, then we have d 6= b0j+1 .
If d < b0j+1 , [a0 , d] meets the *-interval starting at d and overlaps the Id-interval [b0j , b0j+1 ], contradicting (7).
Otherwise, if d > b0j+1 , then [a0 , b0j+1 ] meets the *-interval starting at b0j+1 and overlaps the Id-interval [c, d], contradicting (7); * if c 6= b0j for each j > 0, then we have bij < c < bi+1 for some i >= 0 and j > 0.
In this case, j the interval [a0 , c] meets the *-interval starting at c and overlaps the Id-interval [b0j , b0j+1 ], contradicting (7).
c) The first u-interval of each Id-interval ([b0j , b1j ]) is a *interval by (5).
Now suppose, for contradiction, that there exists an interval [c, d] [?]
G[a,b] satisfying * such that c <= bij for some i, j > 0, and [c, d] 6= [b0j , b1j ] for each j > 0.
By point a) of this lemma and by (4), we have that [c, d] = [bij , bi+1 j ] for some i, j > 0.
Since the interval [a0 , c] meets the *-interval [bij , bi+1 j ] k  and overlaps the Id-interval [b0j , bj j ], we have a contradiction with (7).
d) By point c) of this lemma and (4), we can conclude that for each i, j > 0, [bij , bi+1 j ] satisfies tile.
Moreover, by point c), (4), and point a), we have that no other interval [c, d] [?]
Ga,b is a tile-interval, unless c > bij for each i, j > 0.
Lemma 2.
If M, [a, b]  (9) [?]
(13), then there exists a sequence of points like that defined in Lemma 1 such that M, [bij , bi+1 j ]  b if and only j is an odd number and i i+1 M, [bj , bj ]  f if and only j is an even number.
Furthermore, we have that no other interval [c, d] [?]
G[a,b] satisfies b or f, unless c > bij for each i, j > 0.
Because of the alternation between forward and backward Id-intervals, the encoding of the above-neighbor relation is not simple.
For example, in Fig.
2b, consider the 3rd and the 4th Id's: the 1st tile of the 3rd Id (t3,3 ) is connected with the next-to-last tile of the 4th Id (t3,4 ), the 2nd tile of the 3rd Id (t2,3 ) is connected with the third from last tile of the 4th Id (t2,4 ), and so on.
Notice that, in the forward (resp., backward) Id-intervals, the last (resp., first) tile-interval has no tile-intervals connected above with it, to constrain each level of the octant to have exactly one tile more than the previous one (these tile-intervals are labeled with last).
We define the above-neighbor relation as follows.
If [bij , bi+1 j ] is a tile-interval belonging to a forward (resp., backward) Id-interval, then we say that it is abovek(j+1) -i k(j+1) -i+1 connected with the tile-interval [bj+1 , bj+1 ] k  (j+1) (resp., [bj+1  -i-1  k  (j+1) , bj+1  -i  ]).
We capture this situak  (j+1) tion by labelling with up rel the interval [bi+1 j , bj+1  k(j+1) -i-1 [bi+1 ]).
j , bj+1  -i  ]  (resp., Moreover, we distinguish between up rel-intervals starting from a forward and a backward Id-interval and, for each one of these cases, between those starting from an odd and an even tile-interval.
0  ti,j = i-th tile of the j-th Id-interval Idi = i-th Id-interval = backward/f orward Id-interval a) Cartesian representation b/f r = up relb -interval b = up relf -interval ...  ... ... ... ... ...  4th level (Id4 ) t1,4 t2,4 t3,4 t4,4  r r r b6 b6 2nd level (Id2 ) t1,2 t2,2 r 6  6t2,3 6t3,3 6 3rd level (Id3 ) t1,3 1st level (Id1 ) t1,1  p  b) Interval representation Id1 , b p Id2 , f p Id3 , b  b  b  b  p  Id4 , f  p  0  last last last last * t1,1 * t1,2 t2,2 * t3,3 t2,3 t1,3 * t1,4 t2,4 t3,4 t4,4 *  r  r  r  r  r  r  r  Figure 2.
The above-neighbor relation encoded in the fragment AO.
To this end, we use a new propositional letter, namely, up relbo (resp., up relbe , up relfo , up relfe ) to label up relintervals starting from an odd tile-interval of a backward Id-interval (resp., even tile-interval/backward Id-interval, odd/forward, even/forward).
Moreover, to ease the reading of the formulas, we group up relbo and up relbe in up relb (up relb - up relbo [?]
up relbe ), and similarly for up relf .
Finally, up rel is exactly one among up relb and up relf (up rel - up relb [?]
up relf ).
From the above conditions, it follows that the up rel-intervals between any pair of consecutive Id-intervals are placed the one strictly contained in the other.
Let a, b [?]
{b, f} and g, d [?]
{o, e}, with a 6= b and g 6= d: [G](up rel - up relb [?]
up relf ) a [G](up rela - up rela o [?]
up rele )  [G](hAiup  rela g  - !hAiup  rela d  b  [?]
!hAiup rel )  0  up relfe ), then [bij 0 , bij 0+1 ] satisfies tile and there exists a up relfo -interval (resp., up relfe -interval, up relbo -inter0 val, up relbe -interval) starting at bij 0+1 .
b  r  a) [bij , bij 0 ] satisfies up rel if and only if it satisfies exactly 0 one between up rela and up relb and [bij , bij 0 ] satisfies up relb (resp., up relf ) if and only if it satisfies exactly one between up relbo and up relbe (resp., between up relfo and up relfe ); 0 b) for each a, b [?]
{b, f} and g, d [?]
{o, e}, if [bij , bij 0 ] sata isfies up relg , then there is no other interval starting at b bij satisfying up relbd such that up rela g 6= up reld ; b f c) each up rel -interval (resp., up rel -interval) does not overlap any other up relb -interval (resp., up relf -interval); 0 d) if [bij , bij 0 ] satisfies up relbo (resp., up relbe , up relfo ,  Now we constrain each tile-interval, except for the one representing the last tile of some level, to have a tile-interval above-connected with it.
To this end, we label the tileintervals representing the last tile of some level in the octant with the new propositional letter last (formulas from (28) to (30)).
Next, we force all and only tile-intervals not labelled with last to have a tile-interval above-connected with them (formulas from (31) to (34)): !up rel [?]
!hOiup rel [?]
!hAiup rel  (20)  [G](tile - hAiup rel)  (21)  [G](hAiup rel - hAiu)  (22)  [G](u [?]
hAiup rel - tile)  (23) a  [G](a - [A](up rel - up rel ))  (24)  a  [G](up rel - hAib) b  (25) f  [G](hOi* - !
(hOiup rel [?]
hOiup rel )) [G](hAiup  rela g  [?]
hAitile - hAi(tile [?]
hAiup  (26)  rela d )) (27)  [G](last - tile)  (28)  [G]((* [?]
b - hAilast) [?]
(f [?]
hAi* - last))  (29)  [G]((last [?]
f - hAi*) [?]
(b [?]
hAilast - *))  (30)  (14)  [G](* [?]
f - hAi(tile [?]
hAi(up rel [?]
hAi(tile [?]
hAi*)))) (31)  (15)  [G](last [?]
b - hAi(up rel [?]
hAi(tile[?]
(16)  hAi(tile [?]
hAi*))))  [G](up rela - !hOiup rela )  (17)  a [G](hOi(u [?]
hAiup rela g ) - [A](hOiup relg [?]
hOi  b [G](up rela g - hAi(tile [?]
hAiup relg ))  (18)  (u [?]
hAi(u [?]
!last [?]
hAiup relbd )) - hOiup rela d ))  (14) [?]
.
.
.
[?]
(18)  (19)  Lemma 3.
If M, [a, b]  (9) [?]
(13) [?]
(19), then there exists a sequence of points like that defined in Lemma 1 such that, for each i >= 0, j > 0, the following properties hold:  (32) (33)  [G](up rel - !hAilast)  (34)  (20) [?]
.
.
.
[?]
(34)  (35)  Lemma 4.
If M, [a, b]  (9)[?](13)[?](19)[?
](35), then there exists a sequence of points like that defined in Lemma 1 such  that the following properties hold: a) for each up rel-interval [c, d], there exist c0 , d0 such that [c0 , c] and [d, d0 ] are tile-intervals and if [c, d] satisfies up relb (resp., up relf ), then [c0 , c] satisfies b (resp., f) and [d, d0 ] satisfies f (resp., b); b) (strict alternation property) for each tile-interval [bij , bi+1 j ], with i < kj - 1, such that there exists a up relbo -interval (resp., up relbe -interval, up relfo -interval, up relfe -interval) starting at bi+1 j , there exb b ists a up rele -interval (resp., up relo -interval, up relfe interval, up relfo -interval) starting at bi+2 j ; ] satisfying last, there is c) for every tile-interval [bij , bi+1 j i no up rel-interval ending at bj ; 0 d) for each up rel-interval [bij , bij 0 ], with 1 < i <= kj , we have that j 0 = j + 1.
Proof.
a) Let [c, d] be a up rel-interval.
By (18), we have that there exists d0 such that [d, d0 ] is a tile-interval and by (22), (23), and Lemma 1, there exists c0 such that [c0 , c] is a tile-interval.
Now, suppose that [c, d] satisfies up relb (the other case is symmetric) and that [c0 , c] satisfies f. Then, (24) is contradicted.
Similarly, if [d, d0 ] satisfies b, then (25) is contradicted.
b) Straightforward, by (27); c) Straightforward, by (34); 0 d) Let [bij , bij 0 ] be a up rel-interval, with 1 < i <= kj , and suppose, for contradiction, that j 0 6= j + 1.
Suppose that 0 [bij , bij 0 ] is a up relb -interval (the other case is symmetric).
By point a) of this lemma, we have that [bji-1 , bij ] 0  0  satisfies b and that [bij 0 , bji 0+1 ] satisfies f. Two cases are possible: i0 +1 i i0 (i) if j 0 = j, then [bi-1 j , bj ] and [bj 0 , bj 0 ] belong to the same Id-interval.
By Lemma 2, they must be both labelled with b or f, against the hypothesis; (ii) if j 0 > j + 1, then consider a tile-interval [bhj+1 , bh+1 j+1 ] belonging to the (j + 1)-th Id-interval.
By Lemma 2, we have that [bhj+1 , bh+1 j+1 ] satisfies f i (since [bi-1 , b ] satisfies b) and, by (21) and (24), j j f we have that there is a up rel -interval starting h0 at bh+1 j+1 and ending at some point bj 00 for some j 00 > j + 1 (by point (i)).
Consider the *-interval [b0j+2 , b1j+2 ].
By the right conjunct of (2), there exists a point b0 such that b0j+2 < b0 < b1j+2 .
Thus, the interval [b, b0 ] overlaps the *-interval h0 [b0j+2 , b1j+2 ], the up relf -interval [bh+1 j+1 , bj 00 ] and 0 the up relb -interval [bij , bij 0 ], contradicting (26).
Hence, the only possibility is j 0 = j + 1.
Lemma 5.
Each tile-interval [bij , bi+1 j ] is above-connected with exactly one tile-interval and if [bij , bi+1 j ] does not satisfy last, then there exists exactly one tile-interval which is  above-connected with it.
Proof.
First of all, we observe that each tile-interval is above-connected with at least one tile, by (21) and by Lemma 4, item (a).
Now suppose, for contradiction, that there exists a tile-interval [bij , bi+1 j ] not satisfying last and such that there is no tile-interval above-connected with it.
If it is the rightmost interval of the j-th Id-interval not satisfying last (base case) and it satisfies f (resp., b), then we have that i = kj - 2 (resp., i = kj - 1) and (32) (resp., (31)) guarantees the existence of a up rel-interval ending at bij , leading to a contradiction.
Now, suppose that there is a up rel-interval ending at bi+1 and starting at some point j 0 bij-1 (inductive case).
Without loss of generality, suppose 0 f that [bij-1 , bi+1 j ] satisfies up relo .
Then, by Lemma 3, item (d), there exists a up relbo -interval starting at bi+2 and, by j the strict alternation property (Lemma 4, item (b)), there exists a up relbe -interval starting at bi+1 j .
Let c be a point 0  0  i -1 such that bj-1 < c < bij-1 (the existence of such a point is guaranteed by the right conjunct of (2)).
Similarly, let d be a point such that bi-1 < d < bij .
We show that, by applyj ing (33) to any interval ending in c and starting before than i0 -1 bj-1 , say [c0 , c], we get a contradiction.
Indeed, [c0 , c] satisfies hOi(u [?]
hAiup relfo ) and it meets [c, d], which satisfies the following formulas: 0 f * hOiup relfo : [bij-1 , bi+1 j ] satisfies up relo ; * hOi(u [?]
hAi(u [?]
!last [?]
hAiup relbe )): the interval i i i+1 [bi-1 j , bj ] satisfies u and meets the u-interval [bj , bj ], which does not satisfy last (by hypothesis) and whose right endpoint starts a up relbe -interval.
We show that [c, d] does not satisfy the formula hOiup relfe , getting a contradiction with (33).
Suppose that there exists an interval [e, f ] satisfying up relfe and such that c < e < d < f .
We distinguish the following cases: 0 * if f > bi+1 and e > bij-1 , then the up relfo -interval j 0 f [bij-1 , bi+1 j ] overlaps the up rele -interval [e, f ], contradicting Lemma 3, item (c); 0 * if f > bi+1 and e = bij-1 , then there are a up relfo j 0 and a up relfe -interval starting at bij-1 , contradicting Lemma 3, item (b); f f * if f = bi+1 j , then there are a up relo - and a up rele interval ending at bi+1 and, by Lemma 3, item (d), j b there are a up relo - and a up relbe -interval starting at bi+2 j , contradicting Lemma 3, item (b); * finally, if f = bij , we have a contradiction with the hypothesis.
Thus, there exists no such an interval, contradicting (33).
This proves that each tile-interval is above-connected with at least one tile-interval and if it does not satisfy last, then there exists at least one tile-interval above-connected with it.
Now, we show that such connections are unique.
0  Suppose, for contradiction, that for some [bij , bij+1 ] and 00 0 00 0 00 [bij , bij+1 ], with bij+1 < bij+1 (the case bij+1 > bij+1 is 0 00 symmetric), we have that both [bij , bij+1 ] and [bij , bij+1 ] are up rel-intervals.
By Lemma 3 and Lemma 4, we have that they both satisfy the same propositional letter among up relfo , up relfe , up relbo and up relbe , say up relfo (the other i0 +1 i00 +1 cases are symmetric).
Then both bj+1 and bj+1 start a b up relo -interval by Lemma 3, item (d).
By the strict alter0 +2 nation property, a up relbe -interval starts at the point bij+1 .
0  0  +1 i +2 Since [bij+1 , bj+1 ] is not the rightmost tile of the (j + 1)-th Id-interval, then, as we have already shown, there exists a i0 +1 point c such that [c, bj+1 ] is a up rel-interval.
By Lemma 3,  [c, d] is right connected with [d1 , e1 ] and [d1 , e1 ] is aboveconnected with [e, f ], then there exists also a tile-interval [d2 , e2 ] such that [c, d] is above-connected with [d2 , e2 ] and [d2 , e2 ] is right connected with [e, f ].
3.6.
Tiling the plane The following formulas constrain each tile-interval (and no other interval) to be tiled by exactly one tile ((36) and (37)) and constrain the tiles that are right or aboveconnected to respect the color constraints (from (38) to (40)):  0  i +1 items (d) and (b), we have that [c, bj+1 ] is a up relfe -interval.
We show that the existence of such an interval leads to a contradiction: 0 +1 ] overlaps * if c < bij , then the up relfe -interval [c, bij+1 00 f i i the up relo -interval [bj , bj+1 ], contradicting Lemma 3, item (c); * if c = bij , then bij starts both a up relfo - and a up relfe interval, contradicting Lemma 3, item (b); 0 * if c > bij , then the up relfo -interval [bij , bij+1 ] overlaps 0  i +1 the up relfe -interval [c, bj+1 ], contradicting Lemma 3, item (c).
In a similar way, we can prove that it cannot happen that two distinct up rel-intervals end at the same point.
3.5.
The right-neighbor relation  [G]((  k _  ti ) - tile)  (36)  i=1  [G]  k ^  !
(ti [?]
tj )  (37)  i,j=1,i6=j  [G](tile -  _  (ti [?]
hAi(up rel [?]
hAitj )))  (38)  up(ti )=down(tj )  [G](tile -  _  (ti [?]
f [?]
hAitile [?]
hAitj ))  (39)  right(ti )=lef t(tj )  [G](tile -  _  (ti [?]
b [?]
hAitile [?]
hAitj ))  (40)  lef t(ti )=right(tj )  (36) [?]
.
.
.
[?]
(40)  (41)  Given the set of tiles T = {t1 , t2 , .
.
.
, tk }, let PhT be the formula:  Intuitively, the right-neighbor relation connects each tileinterval with its horizontal neighbor in the octant, if any (e.g., t2,3 with t3,3 in Fig.
2).
Again, we must distinguish between forward and backward Id-intervals: a tile-interval belonging to a forward (resp., backward) Id-interval is right connected with the tileinterval immediately on its right (resp., left), if any.
For example, in Fig.
2b, the 2nd tile-interval of the 4th Id-interval (t2,4 ) is right connected with the tile-interval immediately on its right (t3,4 ), since the 4th Id-interval is a forward one, while the 2nd tile-interval of the 3rd Id-interval (t2,3 ) is right connected with the tile-interval immediately on its left (t3,3 ), since the 3rd Id-interval is a backward one.
As a consequence, we define the right-neighbor relation as follows.
If [bij , bi+1 j ] is a tile-interval belonging to a forward (resp., backward) Id-interval, with i 6= kj - 1 (resp., i 6= 1), then we say that it is right connected with the tilei+2 i-1 i interval [bi+1 j , bj ] (resp., [bj , bj ]).
Since the above construction can be carried out on any linear ordering containing an infinite ascending chain of points, such as, for instance, N, Z, Q, and R, the following theorem holds.
Lemma 6 (Commutativity property).
If M, [a, b]  (9) [?]
(13) [?]
(19) [?]
(35), then there exists a sequence of points like that defined in Lemma 1 such that the following commutativity property holds: given two tile-intervals [c, d] and [e, f ], if there exists a tile-interval [d1 , e1 ], such that  To prove the undecidability of the logic AO we can exploit the same construction we use for AO, provided that we change the formulas containing the operators hOi or [O] as follows.
In formulas (1), (2), (17), and (26), we replace all occurrences of the operator hOi with hOi.
Besides, we  (9) [?]
(13) [?]
(19) [?]
(35) [?]
(41) Lemma 7.
Given any finite set of tile types T = {t1 , t2 , .
.
.
, tk }, the formula PhT is satisfiable if and only if T can tile the second octant O.  Theorem 1.
The satisfiability problem for the logic AO is undecidable over any class of linear orders that contains at least one linear order with an infinite ascending sequence.
3.7.
Undecidability of AO, AO, and A O  replace formulas (3), (7), and (33) by the following ones: [G](u - !hOihAiu)  (42)  [G](Id - !hOihAi*)  (43)  [G](tile [?]
!last - [O](hOiu [?]
!hOiId - hOiup rel)) (44) Theorem 2.
The satisfiability problem for the logic AO is undecidable over any class of linear orders that contains at least one linear order with an infinite ascending sequence.
The previous reductions can easily be extended to the logics AO and A O, provided that the class of models contains at least one linear order with an infinite descending sequence of points, such as, for instance, Z<=0 , Z, Q, and R. Theorem 3.
The satisfiability problem for the logics AO and A O is undecidable over any class of linear orders that contains at least one linear order with an infinite descending sequence.
4.
Other undecidable logics Using analogous constructions we have proved the undecidability of the logics B* O* , E* O* , and D* O* .
The obtained results are summarized by the following theorem.
Theorem 4.
The satisfiability problem for the logics BO, BO, EO, EO, DO, and DO (resp., BO, B O, EO, E O, DO, and D O) is undecidable over any class of linear orders that contains at least one linear order with an infinite ascending (resp., descending) sequence.
We have also constructed a similar reduction for the logic OO interpreted on discrete linear orders, as formally stated by the following theorem.
Theorem 5.
The satisfiability problem for the logic OO is undecidable over any class of discrete linear orders that contains at least one linear order with an infinite ascending or descending sequence.
The details of these constructions will be included in a forthcoming extended version.
5.
Conclusions and future work In this paper, we have shown that most extensions of the logics O and O are undecidable.
The undecidability proof for the various logics has essentially the same structure, based on a suitable reduction from the octant tiling problem.
The only extensions for which the decision problem remains open are those of the form L* O* .
The most interesting related open problem, however, is that concerning the  decidability status of the logic O (and respectively O).
They are the only one-modality fragments of HS for which we do not have yet any positive decidability result on important classes of linear orders.
References [1] J. F. Allen.
Maintaining knowledge about temporal intervals.
Communications of the ACM, 26(11):832-843, 1983.
[2] E. Borger, E. Gradel, and Y. Gurevich.
The Classical Decision Problem.
Springer, 1997.
[3] D. Bresolin, D. Della Monica, V. Goranko, A. Montanari, and G. Sciavicco.
Decidable and Undecidable Fragments of Halpern and Shoham's Interval Temporal Logic: Towards a Complete Classification.
In Proc.
of 15th Int.
Conf.
on Logic for Programming, Artificial Intelligence, and Reasoning, volume 5330 of LNCS, pages 590-604.
Springer, 2008.
[4] D. Bresolin, V. Goranko, A. Montanari, and P. Sala.
Tableau-based decision procedures for the logics of subinterval structures over dense orderings.
Journal of Logic and Computation, doi:10.1093/logcom/exn063, 2008.
[5] D. Bresolin, V. Goranko, A. Montanari, and G. Sciavicco.
On Decidability and Expressiveness of Propositional Interval Neighborhood Logics.
In Proc.
of the International Symposium on Logical Foundations of Computer Science, volume 4514 of LNCS, pages 84-99.
Springer, 2007.
[6] D. Bresolin, V. Goranko, A. Montanari, and G. Sciavicco.
Propositional Interval Neighborhood Logics: Expressiveness, Decidability, and Undecidable Extensions.
Submitted, 2008.
[7] D. Bresolin, A. Montanari, P. Sala, and G. Sciavicco.
Optimal Tableaux for Right Propositional Neighborhood Logic over Linear Orders.
In Proc.
of the 11th European Conference on Logics in AI, volume 5293 of LNAI, pages 62-75.
Springer, 2008.
[8] Z. Chaochen, C. A. R. Hoare, and A. P. Ravn.
A calculus of durations.
Inf.
Proc.
Letters, 40(5):269-276, 1991.
[9] C. J. Coetzee.
Representation Theorems for Classes of Interval Structures, Master Thesis.
University of Johannesburg, South Africa, 2009.
[10] D. Gabbay, A. Kurusz, F. Wolter, and M. Zakharyaschev, editors.
Many-Dimensional Modal Logics: Theory and Applications.
Elsevier, 2003.
[11] J. Halpern and Y. Shoham.
A propositional modal logic of time intervals.
Journal of the ACM, 38(4):935-962, 1991.
[12] I. Hodkinson, A. Montanari, and G. Sciavicco.
Non-finite axiomatizability and undecidbility of interval temporal logics with C, D, and T. In Proc.
of the 17th Conference of the European Association Computer Science Logic, volume 5213 of LNCS, pages 308-322.
Springer, 2008.
[13] C. Lutz and F. Wolter.
Modal logics of topological relations.
Logical Methods in Computer Science, 2(2), 2006.
[14] M. Marx and M. Reynolds.
Undecidability of compass logic.
Journal of Logic and Computation, 9(6):897-914, 1999.
[15] M. Marx and Y. Venema.
Multi-Dimensional Modal Logics.
Kluwer Academic Press, 1997.
[16] B. Moszkowski.
Reasoning about digital circuits.
Tech.
rep. stan-cs-83-970, Dept.
of Computer Science, Stanford University, Stanford, CA, 1983.