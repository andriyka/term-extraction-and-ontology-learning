Handling Temporal Relations in Scheduling Dialogues for An MI: System * Rocio Guillhn, David Farwell, Janyce Wiebe Computing Research Laboratory, and Computer Science Department, New Mexico State TJniversity, Box SCRL, Las Cruces, NM 88003 [l], a cognitive approach to temporal reasoning developed by Borillo et al.
[5], and a logic for calculating temporal interpretations in discourse defined by Lascarides and Asher [9].
Many different temporal reasoning systems have been the result of research on temporal relations whkch vary in computational complexity and expressive power.
IA [l]has been the basis for the implementation and evaluation of a number of systems [3], [7], [12:I, [14] addressing the representation of qualitative temporal information about the relationships between pairs of intervals.
According to IA, there are 13 basic relations (including inverses) that can hold between two intervals; e.g.
2 before y, its inverse 2 after y, and x e<pualy.
We have adopted Allen's relations to define our binary relations because they are well defined and have been utilized in scheduling and planning systems.
.Bodlo et al.
[5] have used linguistically observed (their italics) values to deduce a third relation from two other relations, instead of using Allen's 11 transitive closure rule.
In this approach, the intro uction of constraints, that are the result of analyzing linguisticallly acceptable inferences, reduces the combinatorial cost of formal deduction.
Similarly, in our work wc dcfine the relations between expressions in terms of constraints that have been derived from a study of such expressions in a corpus of Spanish dialogues.
These sets of constraints will be used to make a relation between a pair of temporal expressions "hold" producing a new or updated temporal expression.
In their approach, Lascarides and Asher [9] propose that to calculate temporal interpretations, it is necessary to have a logic supporting all the patterns of inference involved in calculating temporal and rhetorical relations.
The authors present a set of defeasible rules to determine the preferred temporal interpretation of a text.
In our discourse processing module, whenever there is not sufficient information to identify the relation between a pair of temporal expressioins, we first need to select a set of candidates that could potentially hold.
From this set we can make assumptions under which certain relations would actuallly hold.
This is similar to Lascarides and Asher's [9] method using default logic.
Abstract Handling temporal information has been a main concern of areas such as natural language processing, planning, and knowledge representation.
In scheduling dialogues, i.e., dialogues whose goal is setting up a meeting in th,is paper, temporal reference is central, and the relations between temporal expressions contain much of the ellipsis and anaphora t o be resolved.
A s a consequence, filling in missing information contributes t o the understanding of the text.
In this paper, we first identify the various binary relations present in this kind of dialogue, characterize them, and, finally, present a mechanism f o r processing with temporal relations that is based on wing the constraints found during the analysis.
1  Iiitroduction  Temporal information has proven to be a central issue in areas such as planning, scheduling, natural language processing, and knowledge representation.
In scheduling dialogues, specially those directed to setting up meetings, temporal relations are primary because they contain much of the anaphora and ellipsis to be resolved.
Filling in missing information due to either anaphora or ellipis in our context has two main purposes: t o support the translation of dialogues, and to provide updated information for further interpretation.
In the second section of the paper we describe a number of different approaches to processing temporal information.
We then describe the Artwork project, which provides the context within which temporal information is characterized in this work.
In the fourth section we describe the characterization of the temporal relations in the scheduling dialogues used in the Artwork project and the mechanism for filling in missing information.
In the last section, we draw some conclusions and suggest some directions for future work.
2  d  Background  There are different approaches to dealing with temporal information.
The approaches that we have considered for our work are Allen's Interval Algebra (IA) *This research has been funded by DoD under contract Number:MDA9070-93.
217  0-8186-7528/96$5.000 1996 IEEE  3  "I will be out of town until the seventeenth" where the end point is the seventeenth (which means the interval is (-00,171) and its end point is considered inclusive.
The Artwork project has been implemented in Quintus Prolog in order to take advantage of the unification mechanism embedded in Prolog for testing and filling in the information represented in the arguments.
Artwork  The Artwork project has the goal of developing a discourse processing module that addresses, among other problems, the interpretation of anaphora and ellipsis to support the translations of dialogues in the speech-to-speech machine translation (MT) system Enthusiast being developed at Carnegie Mellon University (CMU), on one and, and the understanding of the text, in order to identify speech acts and resolve parser ambiguity.
The domain of application is scheduling meeting dialogues.
A corpus of such dialogues in Spanish is currently being collected by researchers at the University of Pittsburgh.
(For a more detailed account of the various phases of the project see Wiebe et al.
[13].
For an in depth description of the Enthusiast sj-stem refer to Rosk [ l l ] .
The initial phase of the research on temporal relations within the Artwork project was t o classify the kinds of temporal anaphora and ellipsis to be found in scheduling dialogues and to identify the relations that supported the relevant inferencing.
The input to the discourse processing module is a set of ILTs (Interlingua Text) produced by the semantic grammar citations.
The ILT represi ntation has been the basis for Knowledge-Based machine translation systems, and was developed at CMU by Nirenburg et al.
[lo].
In regard to temporal information the ILT recognizes such categories as DAY (e.g., the lst, 15th, 28th, etc.
), DAY-OF-WEEK (Monday, Tuesday, etc.
), MONTH (e.g., May, December), HOUR (ten, five, etc.
), MINUTE (fifteen, thirty, etc.
), TIME-OF-DAY morning, noon, afternoon, evening), AM-PM am to indicate a time from midnigth until noon, pm to indicate a time from noon until midnight), INCLEXCL (is used whenever the time is considered an interval).
Intervals of time are defined in terms of 1) their start and end point, and 2) whether the start and end point is included (i.e., INCL-EXCL takes the value inclusive) or not (i.e., INCL-EXCL takes the value exclusive) within the interval.
The inclusion of the start point in the interval means that the interval is closed to the left, whereas its exclusion means that the interval is open to the left.
Similarly, the inclusion of the end point in the interval means that it is closed t o the right, its exclusion means that the interval is open to the right.
Thus, intervals may: a) have both a start and an end point as in "I can meet with you from 10 to 11" where the start point is 10, the end point is 11 (which means that the interval is [10,11]) and hence, the interval is inclusive, or as in "We can schedule the meeting between Monday and Wednesday" where the start point is Monday and the end point is Wednesday (which means that the interval is [1,3] since we map Sunday into 0, .
.
., Saturday into 6) and the interval is inclusive; b) have a start point but no end point as in "I can meet from 2pm on" where the start point is 2pm [which means that the interval is [2,00)) and its start point is considered as inclusive; c) have an undefined start point as in "Are you in town after the l2th?"
where the start point is some point after the twelfth (which means the interval is (12,00)), hence its start point is exclusive; or d) have an end point as in  4  Temporal relations in scheduling dialogues  As mentioned above, temporal relations have been studied in different contexts and, as a consequence, a number of logics and algorithms have been desi ned to deal with such relations (11, [2], [3], [4],[5],712].
However, most of these systems have not dealt with the problem of filling in missing information due to ellipsis or anaphora [SI.
In what follows, we address what we mean by "ellipsis and anaphora resolution" and then characterize the temporal relations needed to fill in missing information.
4.1 Ellipsis and anaphora in Artwork One of the largest questions we faced in defining what precise problems we address is what we mean by "ellipsis resolution."
Carbonell [6] distinguishes between sentential level ellipsis, which is characterized by syntactically incomplete structures, and semantzc ellapszs, "where ellipsed information is manifest semantically incomplete propositions."
(p. 164).
Our operational definition of ellipsis can be seen as an elaboration on this description of semantic ellipsis: "that information which the speaker intentionally expressed implicitly as part of his or her utterance but did not state explicitly".
Given the goals stated above, there is no reason for a machine translation system to limit itself to ellipsis arising from syntactically incomplete structures: the idea is to recover implicit information from the dialog, whether or not arising from syntactically incomplete structures.
Thus, we address semantic ellipsis.
In the case of temporal anaphora, the system attempts to resolve only those anaphoric expressions appearing in the input ILT.
If the input is the utterance: "On Monday the eighth I have two hours between eleven and two, is that good for you?"
the ILT will contain in a *WHEN frame, a slot indicating the presence of a possibly anaphoric reference, i.e., (WHEN WH - (FRAME *SPECIAL-TIME) (NAME THAT )).
For this example, the relevant slot is (NAME THAT).
We operate under two assumptions: anaphoric references not explicit in the input ILT are not resolved and later parts of the discourse will not affect the interpretation of earlier anaphoric references.
4.2 Temporal relations in Artwork Examination of the scheduling dialogues in Spanish collected for Artwork and the Enthusiast projects show a great deal of semantic ellipsis within the expressions being used to refer to times (temporal expresszons) rather than temporal anaphora so, our focus  55  218  i.e., 3 < 6; Tuesday at 8 "is less than" Wednesday at 1, i.e., 30800 < 41300; and, so on).
Before:T 1 "before" T2 holds whenever the following holds:  will be on the former.
Among the most common examples of semantic ellipsis found in the dialogues are temporal expressions used to refer to times (hours and/or time of day) where the day, the date, and month are implied; to days, where the date and month are implied; and to dates, where the month is implied.
The goal of establishing temporal relations is to provide a basis for filling in the implied information.
Computationally speaking the dialogues are partitioned into utterances.
The ILT for each of the utterances is structured as a frame with different slots that are (top-level) frames in themselves or pointers to other frames.
The binary temporal relations that can be applied to two temporal expressions include: before, after, equal, covers, covered-by, refines, and refined-by, (an adaptation of Allen's [l]set of thirteen relationships).
These binary relations are characterized below.
We use the index "1" as in "Tl" to refer to temporal inrily the imformation in a previous ILT (not mediately previous ILT , and the i ' as in "T2" to refer to temporal in orination in the ILT currently being processed.
The teinporal information in T1 and T 2 are combinations of dates and times that need to be mapped i.e., normalized) into a point NTi or interval in time NTi,NTj] (i=1,2; j=1,2) with the following structure:  NT1 < NT2 The relation after is defined by T1 > T2 which means T l "greater than" T2 (e.g., December "is greater than" November, i.e., 11 > 12; June the 13th '(isgreater than" April the 30th, i.e., 165 > 121; 5pm "is greater than" l l a m , i.e., 1700 > 1100, etc.).
T1 is "after" T2 is the inverse relation of "before".
The relation equal is defined by T1 = T2 which means T1 "equal" to T2.
T1 is "equal" to T2 holds if all the features in T1 = all the features in T2.
This relation is the inverse of itself.
The relation covers is defined as T1 includes/contains (cf.
Allen's overlaps relation in which interval i may or not contain all the temporal information of interval j) all the temporal information in T2.
It applies mainly whenever the temporal information in T2 is not specific enough or it is possibly anaphoric; in general, this kind of temporal information (e.g., "that day", "some time", etc.)
is found in a *SPECIAL FRAME NAME in the ILT.
T'1 "covers" T2 holds if the following holds:  2  t  NT2 > 0 AND (NAME in T1 = "week" OR NAME in T1 = "month" OR NAME in T1 = "time-of-day")  N T i = [#MM][#WW][#DD][#TT] However, in the cases when the information is undetermined or vague (e.g., "some time") this mapping is not possible.
The normalization process is carried out with the following procedure:  The relation covered-by is defined as T1 is included/contained in T2; it can be seen as the subset operation for sets.
Covered-by: T1 is "covered by" T2 holds is the inverse relation of ('covers".
An example follclws.
normalize(Ti,NTi) while Ti not NULL if MONTH # NULL then numberize-month concatenate NTi and #MM else if DAY-OF-WEEK # NULL then numberize-day-of-week concatenate NTi and #WW else if DAY > 0 and #MM > 0 then calculate number of day in year concatenate NTi and #DD else if DAY > 0 then concatenate NTi and DAY else if TIME-OF-DAY # NULL then numberize-time-of-day concatenate NTi and #TT else if HOUR > 0 then st and ii rdize-hour concatenate NTi and #TT  Prev Utt: Quisiera reunirme alg6n rato contigo (I would like to meet some time with you) Curir Utt: Puedo en las pr6ximas dos semanas (I can meet in the next two weeks) In this case some tzme "is covered by" the next two weelcs.
The "refines" relation and the inverse relation '(refined-by" are defined in different ways depending on the frames present in T1 and T2.
For reasons of exposition we present only two for refined-by together with examples.
To illustrate the definition for refined-by which is the inverse of refines we present the following example: Prev Utt: Podria reunirme contigo a partir de las 9 (I can meet with you from 9 on) Curir Utt: Que tal si nos reunimos de 9 a 11 el 23 (So how if we meet from 9 to 11 on the 23)  In this case the closed interval from 9 to 11 is a  The relation before is defined by T1 < T2 which means T1 "less than" T2 (e.g., March ('is less than" September, i.e., 3 < 9; Tuesday '(is less than" Friday,  refinement of the open to the right interval from 0 on.
2 19  proceeds to test each of the conjuncts (constraints) in the definition of the relation.
The output of the proccdure is an updated temporal expression T 3 that is the same as T2 plus any information that can be added whenever all the conjuncts in the definition of the relation arc true, or a list of features with no values, otherwiw.
For simplicity, we are considering only temporal expn ssions in previous ILTs, but a focus list is being designed to provide temporal information in additional ILTs.
In Prolog, this procedure is the following predicate with four arguments:  Refined-by: T1 "refined by" T2 holds whenever the following holds: There is an interval [NTi,NTj) in T1 and an interval [NTk,NTl] in T2 such that: NTi > 0 AND NTi 5 NTk AND NTj > NTl To illustrate another definition of the "refined-by" relation we present the following example:  Prev Utt: Tengo tiempo en la tarde a cualquier hora (I have time anytime this afternoon) Curr Utt: De tres a cinco digamos (Shall we say from three to five)  mnkehold(Relation,Tl,T2,T3) Given that there are different combinations of constraints that might apply to a relation, this procedure keeps testing each of the combinations until one of them is true, or exhausts all of the combinations ending with false.
As an example, take as input to makehold the information from T1 and T2 i i i 1 I I ( ' following utterances, and the refined-by relation.
In this case of the non-specified time any tame thzs afternoon is refined by the interval from three t o Jive.
Refined-by: T1 "refined by" T2 whenever the following holds: There is a "calculated interval" [NTi,NTj] in T1 and an interval [NTk,NTl] in T2 such that: NTi  5 NTk  Prev Utt: MaEana puedo reunirme a cualquier hora en la tarde (I can meet tomorrow anytime in the afternoon) Curr Utt: Estoy en la oficina de dos a cuatro (I am at the office from two to four)  AND NTj 2 NTI  In order to obtain a "calculated interval" it is necessary to consider the following definitions for "TIMEOF-DAY": morning is defined as the interval from 0O:Ol to 11:59, noon is defined as the interval from 12:OO to 12:OO the duration of this interval is epszlon), afternoon is de ned as the interval from 12:Ol to 18:00, evening is defined as the interval from 18:Ol to 20:00, and night is defined as the interval from 20:Ol to 24:OO.
Thus, the "calculated start point" of the morning is "0001" and the "calculated end point" of the morning is "1159".
There are a number of assumptions that need to be made to handle temporal expressions and the relationships between them.
One is that whenever information is not present in a particular *WHEN or *TOPIC frame, it is interpreted as being NULL.
Another is that, there is a preselected calendar which is being used as the basis for calculating: 1) days of the week given a date, (2) a change from one month to the next when referring to periods of time that extend from one month to the next (such as "do you have any time the next two weeks"), and ( 3 ) the starting date and time of the discourse processing module.
A third assumption is that hours and minutes from the input ILT have been normalized based on military time, i.e., a 2400 baseline.
4.3 Mechanism for making hold binary relat ions With the existing set of binary relations identified and characterized, the next step was to design a mechanism for applying the relations and filling out the temporal information in the current ILT; i.e., making the relation "hold" of two times, or mnkehold.
This mechanism takes as input a pair of temporal expressions (T1 and T2) and one of the binary relations (before, equal, covers, refined-by, etc.
), and then  i;  For this example, T1 contains a frame with the following temporal information: *SIMPLE-TIME) SPECIFIER DEFINITE) TIME-OF-DAY AFTERNOON), which is normalized and thus, mapped into the interval [NTi,NTj]=[1201,1800], and T2 contains a frame with the following temporal information: (FRAME *INTERVAL) (INCL-EXCL INCLUSIVE) (START ' ((FRAME 'SIMPLE-TIME) (HOUR 1400))) (END ' ((FRAME *SIMPLE-TIME) (HOUR 1600))), which is normalized mapped and thus, mapped into the interval [NTk,NT1]=[1400,1600]; for the referring time expression "maiiana" (tomorrow), the system takes the current date as the default, unless an initial date is provided, to calculate the date corresponding to tomorrow.
For instance, if the date provided is January 3 , 1994 the system will infer from tomorrow is the sucessor of today, and if today is 3 (after normalization) then SUCC(3)=4, i.e., January 4, 1994 (years are taken into account this is just a simplification).
An application of the mechanism for making the Refined-by relation hold between T1 and T2 will test the conditions in the second definition for this relation above:  220  NTi  5 NTk AXD NTj 2 NTl, that  IComputational Intelligence 6: 132-144. is,  [4] ]Bernard, D., Borillo, M., and Gaume, B.
1991.
"'From event calculus to the scheduling problem: Semantics of action and temporal reasoning in aircraft maintenance."
Journal of Applied Intelligence 1: 195-221.
1201 5 1440 AND 1800 2 1600, that is, true AND true  + true  Whenever the result is true, T3 is (1) instantiated with the contents of the arguments of T2, (2) the TIME-OF-DAY argument of T1, and (3) the calculated date for the TIME-REFERENT argument of T1.
Thus, T3 will contain a time expression corresponding to "January 4 from two to four in the afternoon".
The output generated will then contain information related to the interval from two to four plus part of the information in the previous utterance, namely the time of day, in the afternoon and the corresponding computed date for maiiana.
Other relations (after, before, etc.)
may succeed.
Of all possible temporal relations thus established, one is chosen on the basis of other factors considered by the discourse module (e.g., speech act pairs).
5  [5] IBorillo, A., M. Borillo and M. Bras.
1989.
"A temporal reasoning cognitive approach."
Semiot;ita 77(3): 173-194.
[6] Carbonell, J .
1983.
"Discourse pragmatics and elllipsis resolution in task-oriented natural language interfaces," in Proc.
of the 21st Annual Meeting (of the Association for Computational Linguistics {(ACL-83): 164- 168.
[7] Gerevini, A., L. Schubert, and S. Schaeffer.
:1993.
"Temporal reasoning in Timegraph 1-11" in SIGART BULLETIN 4(3): 21-25.
[SI Guill6n, R., D. Farwell, and J .
Wiebe.
1995.
"Handling temporal relations in scheduling dialogues for i5n MT system."
MCCS-95-287, Computing Research Laboratory, New Mexico State University, :Las Cruces, NM.
Conclusions and future work  We have described a system that aims to handle temporal relations, supports the recovery of missing information due to ellipsis and anaphora within a discourse processing module.
We characterized the possible temporal relations which have been found in the a of dialogues in the scheduling domain to which the Artwork system is being applied.
We have also described the mechanism that makes the relation between two temporal expressions to hold by testing each of the conjuncts in the definition of the relation.
Finally, we consider that our work can be generalized to other tasks as long as the people in a dialogue make concrete references to time and do not get ino narrative discussions.
The next step in our work is to evaluate the sets of constraints in these definitions of the relations t o see whether they are sufficient to cover the new data and extend the set of cosntraints if others need to be added.
In addition, we wish to investigate spatial information about the location of a meeting needed to understand scheduling dialogues.
[9] :Lascarides, A. and N .
Asher.
1993.
"Temporal interpretation, discourse relations and commonsense entailment."
Linguistics and Philosophy 16: 437493.
16  [lo].
Nirenburg, S., J. Carbonell, M. Tomita, and .K.
Goodman.
1992.
Machine Translation: A Knowledge-Based Approach.
Morgan Kaufmann, Isan Mateo, CA.
[ll] RosC, C. Unpublished Manuscript, Project Enthusiast, 1994.
[12] Vilain, M., H. Kautz, and P. Van Beek.
1990.
"Constraint propagation algorithms for tempoiral reasoning: A revised report."
In Weld, and IdeKleer, editors, Readings in qualitative reasoning about physical systems: 373-381, Morgan Kaufimann, San Mateo, Ca.
[13] Wiebe, J., D. Farwell, D. Villa, R. Guillh, T. Herndon, R. Bruce, and F. Ronquillo.
1994.
"Adapting Machine Translation Systems to Proicessing Dialog: A feasability study."
MCCS-94,275, Computing Research Laboratory, New Mexico State University, Las Cruces, NM.
References [l] Allen, J.F.
1983.
"Maintaining knowledge about temporal intervals."
Communications of ACM 26: 832-843.
[2] Allen, J.F.
1984.
"Toward a general theory of action and time."
Artificial Intelligence 23(2): 123154.
[14] Yamprotoom, Ed and J .
Allen.
1993.
"Perforimance of temporal reasoning systems" in SIGA RT BULLETIN 4(3): 21-25.
[3] van Beek, P. and R. Cohen.
1990.
"Exact and approximate reasoning about temporal relations."
221