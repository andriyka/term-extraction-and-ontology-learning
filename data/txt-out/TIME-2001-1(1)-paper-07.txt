Representing temporal interval relationships in a rst order logic for time Andre Trudel Jodrey School of Computer Science Acadia University Wolfville, NS, B0P 1X0 Canada andre.trudel@acadiau.ca January 16, 2001  Abstract  We present a simple classication of temporal information based on truth value at the point level.
Axioms are then derived for capturing temporal relationships and, strong and weak negation.
The main advantage of our logic independent approach is that it becomes simpler for a user to dene a rst order temporal logic.
Track 1: Temporal representation and reasoning in AI Topic: Temporal logics and ontologies 1 Introduction In addition to representing truth at a point and interval, a rst order logic for reasoning about time must also represent the relationships between an interval and its internal points and sub-intervals.
For example, \the house was red during 1999" is a statement about the time interval 1999.
It is also obviously true that the house was red during each season, month, week, day, etc.
in 1999.
There are two standard approaches in AI for representing the relationships between temporal intervals and their internal points and sub-intervals.
The rst is to have pre-specied axioms in the logic.
For example, Allen  1] denes three relationships: properties, events, and processes.
An assertion satises the property relationship, and is called a property, if is true over an interval I if and only if is true over every subinterval of I.
Thus, `block A is on the table' is a property.
Events and processes are similarly dened.
An assertion is an event if whenever is true over an interval I then is false over every subinterval of I.
For example, `ran a mile without stopping' is an event.
An assertion is a process if is true over an interval I if and only if is true over some subinterval of I.
`I am walking' is an example of a process.
A general problem with the approach of axiomatizing a small number of relationships is how do we choose which relationships 1  to axiomatize?
Since there are a large number of relationships, how do we guarantee that all the important ones have been chosen?
For example, Shoham  3] states that the assertion `I ran more than two miles' does not t into Allen's categorization scheme.
The other extreme to axiomatizing a small number of relationships in the logic is to not axiomatize any at all.
For example, in  3] Shoham allows the user to capture relationships with formulas.
For each item of temporal information, the user must specify the relationships it satises between an interval and its sub-intervals and internal points.
Because of the large number of possible relationships, this is a tedious, time consuming, and error prone task for the user.
We take the middle ground.
We categorize temporal information based on the truth value at the point level.
This categorization permits us to write general axioms.
We then allow the user to ne tune the relationships with formulas.
Our axiomatization also captures strong and weak negation which is one particular type of temporal relationship.
In the next section, we present our point based classication.
We then describe the major temporal relationships between an interval and its internal points and sub-intervals.
An axiomatization which uses our classication is given for the temporal relationships.
We also use our classication to axiomatize strong and weak negation.
2 Point based classication of temporal information At the point level, there are only three possibilities for an item of temporal information x: 1. x is always true at every point (written AT (x)).
For example, \ran less than 2 miles" is always true at every point (i.e., AT(ran-less-than-2-miles)).
2. x is always false at every point (written AF (x)).
For example, \ran a mile" is AF (i.e., AF(ran-a-mile)).
3. x can be either true or false at a point (written TF (x)).
For example, \alive" can be true at one point and false at a later point in time (i.e., TF(alive)).
Please note the following about the AT{AF{TF classication: Every item of temporal information falls into exactly one of the categories: 8x:  AT (x)  AF (x)  TF (x):  For example, \ran a mile" which is AF is never AT or TF .
The classication is temporally independent.
AT{AF{TF have no temporal arguments.
For example, we write TF(alive) regardless of the truth value of \alive" at particular points or intervals.
Even though an interpretation may assign true to \alive" at every point in an interval, \alive" is still TF.
It is important to note that even though tautologies (e.g., \it is either raining or not") are of type AT , we are excluding them from our categorization.
Tautologies are trivial to represent and not very interesting.
Similarly, we exclude statements that are always false.
2  3 Subinterval relationships We use the AT{AF{TF classication from the previous section to represent temporal relationships.
For the sake of uniformity, we adopt Shoham's  3] notation and terminology for specifying the relationships between an interval and its internal points and sub-intervals.
He denes four basic relationships: Denition 1 An item of temporal information x is point downward hereditary (written # x) if, whenever it holds over an interval, it holds at all of its internal points: 8t1  t2 t3:  t1 < t2 < t3 ^ true(t1  t3  x)] !
true(t2  x): p  x) if, whenever it holds at all internal points of some nonpoint interval, it holds also over the nonpoint interval itself: Denition 2 An item of temporal information x is point upward hereditary (written 8t1  t3:   (8t2 : t1 < t2 < t3 !
true(t2  x))  ^  t1 < t3]  "p  true(t1 t3 x):  !
Denition 3 An item of temporal information x is interval downward hereditary (written #i x) if,  whenever it holds over an interval, it holds over all of its nonpoint subintervals: 8t1  t2 t3 t4 :   t1  t2 < t3  t4  ^  true(t1 t4 x)]  !
true(t2  t3 x):  x) if, whenever it holds over all nonpoint subintervals of some nonpoint interval, it holds also over the nonpoint interval itself: Denition 4 An item of temporal information x is interval upward hereditary (written 8t1  t4   8t2  t3: (t1  t2 < t3  t4 !
true(t1  t4 x):  ^  (t1 6= t2 _ t3 6= t4 ))  !
"i  true(t2 t3 x)]  In the above denitions, true(t1  t2  x) species that x is true over the interval (t1  t2) and, true(t x) and true(t t x) both specify that x is true at point t. Assume that the variable t with or without a subscript represents a point from a dense and totally ordered set (e.g., the reals).
Shoham  3] describes other relationships based on denitions 1{4: Relationship Written as Denition downward-hereditary #x # x $  # x ^ # x] upward-hereditary "x " x $  " x ^ " x] liquid lx l x $  " x ^ # x] point-point-liquid l x l x $  " x ^ # x] interval-interval-liquid l x l x $  " x ^ # x] point-interval-liquid l x l x $  " x ^ # x] interval-point-liquid l x l x $  " x ^ # x] p p  p p i i i p p  p p i i i p p  i  i  3  i i  p  i  i  p  p  i  p  i  3.1 Axiomatization  Assume x is always true at every point (i.e., AT (x)).
Regardless of x's truth value over an interval, it will be true at the point level (i.e., # x).
It is not the case that " x.
For example, if \ran 5 miles" is true over (t1  t2 ), then \ran less than 2 miles" is true at every point between t1 and t2 , and false over (t1  t2).
We have the following axiom for AT : AT (x) !
: " x ^ # x: (1) Note that tautologies, which have been disallowed, make the above axiom false.
Tautologies are " .
Assume x is always false at every point (i.e., AF (x)).
Since x is never true at the point level, we automatically have " x and cannot have # x: AF (x) ! "
x ^ : # x: (2) Note that the above axiom does not hold for information that is universally false (which has been disallowed).
This type of information is # .
Temporal information of type TF can vary its truth value at every point.
It will be true at the interval level if and only if it is true at every interior point of the interval: TF (x) ! "
x ^ # x: (3) As pointed out by Shoham  3, p. 49] it is easy to verify the validity of the following from the denitions:  " x ^ # x] !  "
x ^ # x]: (4) Combining formulas (3) and (4) we have: TF (x) !  "
x ^ # x ^ " x ^ # x]: (5) p  p  p  p  p  p  p  p  p  p  p  p  p  i  p  p  i  i  p  i  3.2 All possible relationships  The 16 possible combinations of " , # , " , and # are shown in table 1, one per line.
For each possible combination of " , # , " , and # , we specify whether information satisfying these relationships is of type \AT", \AF", or \TF" in the last 3 columns of the table.
For example, in row 6 if x is " x, : # x, " x, : # x, then :AT (X ), AF (x), and :TF (x) (i.e., x is AF ).
In the remainder of this subsection we justify the entries in the last three columns.
For the column labelled \AT" in table 1, we inserted an \N" whenever axiom (1) is violated.
The only possibilities for \AT" are in rows 9 through 12.
These entries are indeed possible: Row 9: Let x be \ran 2 miles or less".
x is always true at the point level (i.e., AT (x)).
From axiom (1) we have : " x and # x.
If x holds over every subinterval then it holds over the interval itself (i.e., " x).
Similary, if x is true over an interval, it is also true over every subinterval (i.e., # x).
p  p  p  i  i  p  i  i  p  p  i  i  p  p  i  i  4  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  "p  #p  Y Y Y Y Y Y Y Y N N N N N N N N  Y Y Y Y N N N N Y Y Y Y N N N N  "i  Y Y N N Y Y N N Y Y N N Y Y N N  #i  Y N Y N Y N Y N Y N Y N Y N Y N  AT AF TF N N Y N N N N N N N N N N Y N N Y N N Y N N Y N Y N N Y N N Y N N Y N N N N N N N N N N N N N N  Table 1: Truth table Row 10: Let x be \travelled an even number of miles".
Since displacement is always zero at the  point level, x is always true at the point level (i.e., AT (x)).
From axiom (1) we have : " x and # x.
The only case where we have \x" true over every subinterval of an interval is when the number of miles travelled is zero.
In this case, " x.
Now assume the person travelled continuously for 10 miles during interval I .
x is true over I .
There is a subinterval of I where travel equals 5 miles and x is false over this subinterval.
Therefore, : # x.
Row 11: Let x be \program did not start, run and then terminate".
x is always true at the point level (i.e., AT (x)).
From axiom (1) we have : " x and # x.
Assume the program started at t1 , ran over (t1  t2) and terminated at t2 .
x is true over every proper subinterval of (t1 t2 ) and false1 over (t1  t2) (i.e., : " x).
If x is true over an interval, it will be true over every subinterval (i.e., # x).
Row 12: Let x be \program did not start at the start of the interval and did not terminate at the end of the interval".
x is always true at the point level (i.e., AT (x)).
From axiom (1) we have : " x and # x.
Assume the program started at t1 , ran over (t1 t2 ) and terminated at t2.
x is true over every subinterval of (t1 t2) and false over the interval (i.e., : " x).
Further assume x is true over (t0  t3 ) where t0 < t1 < t2 < t3 .
x is true over an interval and false over one of its subintervals (i.e., : # x).
For the column labelled \AF", we inserted an \N" whenever axiom (2) is violated.
The only p  p  i  i  p  p  i  i  p  p  i  i  1  x  is also false over every interval containing (t1  t2 ).
5  possibilities for \AF" are in rows 5 through 8.
These entries are indeed possible: Row 5: Let x be \the robot travelled a non-zero distance without stopping".
Since displacement is always zero at the point level, x is always false at the point level (i.e., AF (x)).
From axiom (2) we have " x and : # x.
It is also the case that x is true over an interval if and only if it is true over every subinterval (i.e., " x and # x).
Row 6: Let x be \ran a mile".
As in the previous row, displacement is zero at the point level and we have " x and : # x.
It is impossible for x to be true over every subinterval of an interval.
We therefore have " x.
Also, if x is true over an interval, there always exists at least one subinterval over which it is false (i.e., : # x).
Row 7: Let x be \ran continuously for a non-zero distance which is less than 5 miles".
For the same reasons as in rows 5 and 6, we have " x and : # x.
Assume the person ran exactly 5 miles over the interval (0,5) without stopping.
x is true over every subinterval of (0,5) and false over (0,5) (i.e., : " x).
It is the case that if x is true over an interval, then it is true over each subinterval (i.e., # x).
Row 8: Let x be \ran for a non-zero amount of time which does not equal 1 hour".
As before, we have " x and : # x.
Assume the person did not stop running over an interval which is one hour long.
x is true over each subinterval and false over the one hour interval (i.e., : " x).
Now assume the person did not stop running over an interval which is two hours long.
x is true over the interval, and false over all one hour subintervals (i.e., : # x).
For the column labelled \TF", we inserted an \N" whenever axiom (5) is violated.
The only possibilities for \TF" is row 1 (e.g., alive).
Based on the truth table shown in table 1, we can strenghten axioms (1, 2, 5): AT (x) $ : " x ^ # x: (6) p  p  i  p  i  p  i  i  p  p  i  i  p  p  i  i  p  AF (x)  $ "p  TF (x)  $  x  p  ^ : #p   " x ^ p  #p  x:  x^  (7) "i  x^  #i  x]:  (8)  Axioms (6,7,8) can be further reduced to: AT (x) $ : " x:  (9)  p  AF (x)  $ : #p  TF (x)  $ "p  x:  x^  (10) #p  x:  (11)  It is interesting to note that there are no \N" entries in the last three columns of rows 13{16 in table 1.
There exists no temporal information that is : " and : # .
All temporal information satises either or both of " and # .
Furthermore, both " and # are necessary for distinguishing between the types of temporal information (i.e., points are needed).
This may explain why Allen  1] ran into representational problems in his non-point interval logic.
p  p  p  p  6  p  p  Shoham  3, p. 49] observes that point-point-liquid information coincides with Allen's  1] properties.
Since the RHS of axiom (11) is the denition for point-point-liquid, Allen's properties also coincide with TF information.
Shoham also goes on to mention that liquid information coincides with philosopher's homogeneous propositions.
Since the RHS of axiom (8) is the denition liquid information, homogeneous propositions also coincide with TF information.
We therefore have the new result that Allen's properties, homogeneous information, and TF information are all dierent names for the same thing.
4 Negation Another family of relationships deals with strong and weak negation which is dened as: The strong negation of a formula would be true with respect to an interval if the formula itself were false through all subintervals of the interval, while the weak negation would be true merely if it was not the case that the formula negated was true with respect to the interval in question (even if it was true for some subintervals).
2, p. 172] \Ran a mile" is an example of an assertion which requires weak negation.
\Not ran a mile" is true over an interval if and only if \ran a mile" is false over the interval.
An example of an assertion which needs strong negation is \alive".
\Not alive" is true over an interval if and only if \not alive" is true over every subinterval of the interval.
4.1 Axiomatization  Dene the relation Weak(x) to be true if the item of temporal information x satises weak negation.
Similarly for Strong (x).
Note that every item of temporal information requires either weak or strong negation, but not both.
We use a notation similar to Shoham's  3, p. 50] for negation.
If x is false over (t1  t2) we write true(t1  t2 NOT (x)): Note that true(t1 t2 NOT (x)) and :true(t1  t2 x) are dierent.
The latter says that it is not the case that x is true over (t1  t2).
It may not be the case that x is false over (t1  t2 ).
For example, if alive is true over (0,1) and false (i.e., dead) over (1,2) then :true(0 2 alive) and :true(0 2 NOT (alive)).
x satises weak negation over an interval if and only if it is not true over the interval: Weak(x) !
8t1 t2: true(t1 t2 NOT (x)) $ :true(t1  t2 x)]: (12) For strong negation, we adopt Shoham's  3, p. 50] denition.
x is false over an interval if it does not hold over the interval and also does not hold over every subinterval (including internal points), except perhaps at the endpoints: Strong(x) !
8t1 t2: true(t1 t2 NOT (x)) $   t1 = t2 !
:true(t1  x)] ^  8t3  t4 : (t1  t3  t4  t2 ^ :(t1 = t4 _ t3 = t2 )) !
:true(t3  t4 x)]]]: (13)  7  Regardless of the type of negation, one desirable property is that double negation cancels2 itself out.
For strong negation, Shoham  3, p. 50, Corollary 2.4] derives the following result: (" x^ # x) $  8t1  t2 : true(t1  t2 x) $ true(t1 t2 NOT (NOT (x)))]: (14) Combining formulas (11) and (14) we get: TF (x) $ (8t1 t2: true(t1 t2 x) $ true(t1  t2 NOT (NOT (x)))): (15) The above states that strong negation cancels out if and only if we have information of type TF .
Therefore, only information of type TF should be used with strong negation: TF (x) $ Strong(x): (16) It then follows that AT and AF information require weak negation: (AT (x) _ AF (x)) $ Weak(x): (17) It is straightforward to prove that TF information is false over an interval if and only if it is false at every interior point.
From axiom (16), we conclude that strong negation holds over an interval if and only if it is false at every interior point.
We use this to simplify formula (13): Strong(x) !
8t1 t2: true(t1 t2 NOT (x)) $   t1 = t2 !
:true(t1  x)] ^ (18)  8t3 : t1 < t3 < t2 !
:true(t3  x)]]]: p  p  5 Conclusion Traditionally, temporal logics have either captured predetermined relationships in the logic, or left it up to the user to axiomatize the relationships.
In this paper, we took the middle ground.
Temporal information was classied based on its truth value at the point level.
The classication is simple and must be done by the user for each item of temporal information.
Once classied, axioms were derived (summarized in gure 1) to capture some of the temporal relationships.
The user can then write additional specic axioms as needed.
Our axiomatization also deals with strong and weak negation.
The onus is no longer on the user to decide for each item of temporal information whether or not it satises strong or weak negation.
Furthermore, our axiom for strong negation is computationally more ecient since we only need to verify falsity at the point level.
Although we used Shoham's notation in the paper, the results presented are logic independent.
Our classication and axioms can be adapted to most rst order logics for reasoning about time.
6 Acknowledgements Research supported by an NSERC grant.
2  It is simple to prove using axiom (12) that double weak negation cancels out.
8  AT (x)  $ : "p  x:  AF (x)  $ : #p  x:  TF (x)  $ "p  TF (x)  $  x^  Weak(x)  x:  Strong(x):  (AT (x) _ AF (x))  Strong(x)  #p  !
!
$  Weak(x):   8t1  t2 : true(t1  t2 NOT (x)) $   t1 = t2 !
:true(t1  x)] ^  8t3 : t1 < t3 < t2 !
:true(t3  x)]]]:  8t1  t2: true(t1  t2 NOT (x)) $ :true(t1  t2 x)]: Figure 1: Axiom summary  References  1] J.F.
Allen, Towards a General Theory of Action and Time, Articial Intelligence 23 (2), (1984), p. 123{154.
2] I.L.
Humberstone, Interval Semantics for Tense Logic: Some Remarks, Journal of Philosophical Logic 8, (1979), p. 171{196.
3] Y. Shoham, Reasoning about Change.
The MIT Press, Massachusetts, (1988).
9