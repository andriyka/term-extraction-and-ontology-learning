Representing Temporal Relationships Between Events and Their Effects J. Ma, B. Knight and T. Peng School of Computing and Mathematical Science University of Greenwich, London  characterised as points and intervals are constructed out of points.
However, these approaches have not gone as far as one would like for dealing with temporal issues in representing and reasoning about actions and their effects, and there are still some problematic issues which have not been satisfactorily solved.
Generally speaking, the world persists in a given state until some action is carried out to change it into another state.
While some actions may be instantaneous, most of them perfom over some interval of time.
Hence, both points and intervals are needed for expressing the time spans of situations and actions.
However, temporal relationships between events and their effects are complex.
For instance, on the one hand, as the effect of a given event, a proposition may change its truth value immediately after the occurrence of the event, i.e., there is no delay time between the occurrence of the event and the change of the truth value; on the other hand, a proposition may only become true/false from some time after the event that is supposed to make it to change its true value has occurred.
Expressing the delayed effects of events has been a problematic question in reasoning about action and change.
In fact, in most existing temporal theories, including that of Schubert [15], of Lin and Shoham [ 7 ] , of Pinto and Reiter [13, 141, and of Miller and Shanahan [ll], the effects of actions have been represented as the immediate results just after the execution of the corresponding actions.
Actions with delayed effects have not been addressed in these systems.
In [ 5 ] , Gelfond et.
al.
propose an approach in terms of duration of actions to describe an action with delayed effects.
They simply count the delay time in the duration of actions.
In this way, actions have been considered to continue until the results of actions appear.
However, this does not really match the common-sense idea of an action with delayed effect, which in fact intuitively means that there is a delay time between the performance of the action and its effect.
E.g., 25 seconds after a pedestrian starts pressing the button at the crosswalk, the pedestrian crossing light  Abstract Temporal relationships between events and their effects are complex.
As the ejjects of a given event, a proposition may change its truth value immediately after the occurrence of the event and remain true until some other events occur, while another proposition m y only become trueJalse from some time after the causal event has occurred.
Expressing delayed @ects of events has been a problematic question in most existing theories of action and change.
This paper presents a new formalism for representing general temporal causal relationships between events and their effects.
It allows expressions of both immediate and delayed effects of events, and .supports common-sense assertions such as "effects cannot precede their causes".
1.
Introduction The notion of state is central in most conceptualisationsof the physical world.
The states of the world, which may be expressed as a set of propositions, are changed by certain relevant patterns which are termed in the literature as actionslevents.
The concepts of change and time are deeply related since changes are caused by events, while events can be expressed as actions performing over certain time intervals/points.
Over the last decade, several extensions to McCarthy and Hayes' framework of situation calculus [8,9], and to Kowalski and Sergot's event calculus [ 6 ] , have been proposed (including that of Schubert [15], of Lin and Shoham [7], of Gelfond et a2 [4,51, of Pinto and Reiter [12, 13, 141, and of Miller and Shanahan [ll]) in order to enrich the temporal ontology in reasoning about action and change.
These formalisms usually associate entities such as situationslstates, jluents, and actions with some special time, where time elements are  0-8186-7937-9/97 $10.000 1997 IEEE  148  turns to yellow from red, and afer another 5 seconds it, turns to green.
The objective of this paper is to propose a new formalism for representing general temporal causal relationships between events and their effects.
In section 2 , we present the logical preliminaries of the new formalism.
Section 3 illustrates the expressive power of the new formalism.
Section 4 concludes the paper.
recalling axiom (A3), for any two adjacent time elements, tl and t2, we may denote the adjacent union of tl and t2 as a time interval, t = tl 0 tz.
N.B., t,0t2 always implies that Meets(tl, t2).
(AS) \Jtl,tZ(Mewl,tZ) 3 Durution(tl) > 0 v Duration(t2) > 0 ) i.e.
, points can not meet other points; (A6) 'tl ,t2(Meets(tl 9t2) Durution(t, 0 t2) = Duration(t,) Duration(t,)) i.e., the duration assignment is consistent with the adjacent union operator "0" and the conventional addition " + "; (A7) Vtl,t2,t.
?,t4(Meets(tl,tz) A Meets(t3,t4) Meets(tl,t4) V 3t'(Meets(tl,t')A Meets(t',t4)) V 3t"(Meets(t3,t") A Meets(t",t,))) i.e., meeting places of time elements are totally ordered, which ensures the linearity of time structure (here, "V" represents "exclusive-or").
=  2.
The Logical Preliminaries  -  The formalism consists of three disjoint sorts of objects T, F and A, called times, fluents and actions, respectively (By fluents in this paper, we mean propositions whose truth values are dependent on time).
We shall denote the elements of T, F and A by letters (possibly indexed) t, f,and a.
2.1 The Underlying Time Structure In [lo], a general time theory is proposed which addressed both points and intervals as primitive time elements.
It is in fact an extension to Allen and Hayes' interval based temporal logic [ 1, 21.
In what follows, we briefly describe such a time structure which will be used as the temporal basis of the formalism.
We use Duration to denote a duration assignment function which assigns a non-negative real number for each time-element in T. A time-element t is called a (time) interval if Durution(t) > 0, otherwise t is called a (time) point.
The primitive relation over time elements, Meets, is axiomatized by:  2.2.
Fluents The truth values of fluents are dependent on times.
We use Holds(f, t ) to denote that fluent f is true over time t .
We impose the following axioms on predicate Holds:  (A8) b"t(Holdsf, t) a Vt'(Sub(t',t)  = Holdsf, t')))  N.B.
Here, Sub(t,,t,) intuitively denotes that time tl is a part of time t2:  ,tz) A Meets(tl,t3) A Meets(t4,t2) (Al) Vtl,tz,ts,t4(Meets(tl =3 Meets(t,,t,)) i.e., the "place" where two time elements meet is unique and closely associated with the time elements; (A2) Vt3t ',t ' '(Meets(t',t)A Meets(t,t ' ')) i.e., every time element has at least one neighbouring time element proceeding it, and another succeeding; (A3) Vt,,t2(3t',t"( Meets(t',t,) A Meets(t,,t") A Meets(t',t,) A Meets(t,,t")) tl = t 2 ) i.e., the time element standing between any two meeting places is unique; (A4) Vtl,t2(Meets(tl,t2) 3t'dt',t "(Meets(t',tl)A Meets(t,,t' ') 3 Meets(t',t) A Meets(t,t")) i.e., if two meeting places are separated by a sequence of time elements, then there is a time element which connects these two meeting places.
Hence, by  -  +  V't,,t,(Sub(t, 7tZ) 7tZ)  v Sturts(tl,tz) v Finishes(t,,t2)  v Dudng(t1J 2 ) ) where, EqdS(t1,tZ) a tl= tz, Sturts(tl,t2)c=,3t'(t1 0 t' = t2) Finishes(tl,t2) a 3t'(t' 0 tl = t2), 3t',t"(t' 0 tI 0 t" = tz) During(t,,t,)  -  (A9) Vt,,t,'df(Holds(f, tl) A Holds(f, t2)A Meets(tl, t2) z3 Holds(f, tl 0 t 2 ) ) Following Galton's notation 131, we refer to the operator "not" as fluent-negation, so that n o t o represents the negation of fluent f, to be kept distinct  149  from ordinary sentence-negation, symbolised by " 4'.
Properties about the negation of fluents can be given as below:  Vt(Holds(notV),t ) =3Vt'(Sub(t',t) s -.Holds(f, t'))) Vt(Holds(f,t ) 3 Vt'(Sub(t',t )  In what follows, we shall use S to denote the set of all the consistent complete states.
A situation, st, is a state s, associated with a particular time (point or interval) t , over which the world persists in that state.
We shall write st as st = <s, t > , and denote by Sit the set of all situations.
(All) Vst3s3t(st = <s, t > )  %Yolds(not@, t')))  (A12) VsVt(<s, t > EURSit e ty( fes tj Holds(f, t ) A ~ Ee S Holds(notV), t)))  Hence, any fluent and its negation can not be both true over the same time t. In other words, they are in conflict with each other.
However, it is important to note that, for a given fluent, say f, it may be the case that its negation not@ is not the only fluent which conflicts with it.
That is, there may be some fluents other than n o t o that can not be true together with fluent f. Consider the example of traffic signals: let GreenOn, YelZowOn and RedOn denote fluents "the green light is on", "the yellow light is on" and "the red light is on", respectively.
On the one hand, we know that at any time t, if fluent GreenOn is true, then its negation not(Green0n) must be false.
On the other hand, while fluent GreenOn is true, fluent RedOn must be false as well, although fluent YeZlowOn may be true.
We use ConfV;, f2) to denote that fluent with fluentf,:  Axiom (A13) states that the representation for any situation is unique.
Hence, for any situation st, if st = <s, t > , we shall call s and t the reference state and the rt.ference time of situation st, denoted as State(st) and Time(st),respectively.
By (A12) and (A8), we can directly infer that:  Vsb't,t'(<s, t> EURSit A Sub(t', t ) 3 <s, t ' > EURSit) and by (A12) and (A9):  is in conflict  VsVt,t'( <s, tl > EURSit A <s, t2> EURSit A Meets(t,, t2) 3 <s, tl 0 tz>d i t ) For reasons of simplicity, we may sometimes use Holds(f, st) to denote that fluent f is observed as true in situation st, provided that:  Specially, the negation of fluentf is in conflict withf.
V'stb''Holds(f, st) a Holds(f, Time(st)))  2.3 States/Situations A state, s, is defined as a subset of FuF-, F- ={not@ IfeF}.
2.4 ActiondEvents  where  Actions, given in terms of certain relevant patterns, may perform over some specified time points or intervals.
We use Performs(a, t ) to denote that action a performs over time t.  A state, s, is complete if and only i f  (A14) VuVt,,t2( Pe~orms(u,tl)  otherwise, s is' called an incomplete state.
Performs(a, t,) Meets(tl, tz) 3 Performs(a, t10t2)) i.e., if an action performs over two adjacent times respectively, then it performs over the ordered union of these two times.
A  A  A state is called consistent if and only if  otherwise, s is called an inconsistent state.
150  The world holds in one state until an action is performed over some special time to change it into another state (may be still the same one).
We shall call such a phenomenon an event.
Hence, analogously to the form of a situation which are defined as a pair of a state and a time element, an event is given in the form of a pair of an action and a time, such that:  causal event.
Again, this case can be successfully expressed by taking the temporal relation between Time(e) and t in (A16) as Starts(Time(e), t), rather than Equals(Time(e),t).
For instance, consider the example of the pedestrian crossing lights mentioned in the introduction.
We employ the following three fluents:  RedOn: the red light at the crosswalk is on; YellowOn: the yellow light at the crosswalk is on; Greenon: the green at the crosswalk is on;  (A15) VaVt( <a, t> EE e Perjorms(a, t)) where E denotes the set of all events.
Again, analogously to the definitions of the reference state and the reference time of a given situation, for an event e with the form of < a , t> , we shall call a and t the reference action and the reference time of event e, and, without confusion, denote them as a = Action(e) and t = Time(e), respectively.
We use Changes(sit,, e, t, sit,) to denote the proposition that, immediately after time t, event e changes situation sit, into situation sit, (see Fig.
1):  Let PressButton denote the action of pressing the button, and SitReddenote a situation in which the red light is on:  Holds(RedOn,SitRd) Assuming in situation SitRd a pedestrian presses the button, e.g., for 1 second, then we have event E = <PressButton, TE>, and can express the effects of event E as below:  (A16) ~e~E~'sitl,sit2~SitVt~T(Changes(sitl,e,t,sit,) a Meets(Time(sit,), Time(e)) A (Equals(Time(e),t) v Starts(Time(e),t) A Meets(t, Tine(sit,))) where  Dur(Time(@) = 1, Dur(T,) = 25, Dur(T,) = 30, Holds(RedOn, Sit,,?, Holds( YellowOn, Sit,,, '') , Holds(GreenOn, Sitwea'')' .
e Figure 1  3.
The Expressive Power Axiom (A16) ensures that, the reference time of any event "Meets" or is "Before" the reference time of the corresponding situation caused by the event.
Hence, one can directly infer the common-sense assertion that "effects cannot precede their causes".
In fact, axioms (A16) allows a flexible temporal relationship between effects and their causal events.
On the one hand, some fluents may change their truth values immediately after the reference time of the causal event.
In other words, there is no delay time between the effect and its causal event.
This case corresponds to the form of axiom (A16) where the temporal relation between Time(e) and t in (A16) is Equals(Time(e), t), rather than Starts(Time(e), t).
On the other hand, it may be the case that some fluents change their truth values from some time after the reference time of the causal event, i.e., there may be some delay times that stand between the effect and its  Here, we have directly expressed the fact that there is no time delay between the reference time of event E and the reference time of the effect situation Sitwea'.
Also, we cansuccessfully express the fact there is a delay time, say TDl, standing between the reference time of event E and the reference time of the effect situation Sitwea", that is:  Similarly, we can express that there is a delay time, say TD,, standing between the reference time of event E and the reference time of the effect situation Sitqea"', that is:  151  Additionally, we can easily infer that:  T,,  =  3.
Galton A.
A Critical Examination of Allen's Theory of Action and Time, Artz$cial Intelligence, 42, pp.
159-188, 1990.
TDI@Time(SitWea")  4.
Gelfond M. and Lifschitz V. Representing actions in extended logic programs.
In Joint International Conference and Symposium on Logic Programming, pp.559-573, 1992.  where  Dur(Time(SitWea'))= Dur(T,,) = 24, Dur(Time(Sitmea'')) = 5,  5.
Gelfond M., Lifschitz V. and Rabinov A.
What are the Limitations of the Situation Calculus?
In Working Notes of AAAI Spring Symposium Series.
Symposium: Logical Formalization of Commonsense Reasoning, pp.59-69, 1991.
The above knowledge can be graphically presented as Figure 2:  6.
Kowalski R. and Sergot M. A logic-based calculus of events, New Generation Computing, 4, pp.67-95, 1986.
7.
Lin F. and Shoham Y. Provably Correct Theories of Action, In Proceedings of the ninth National Conference on ArtiJicial Intelligence (AAAI-91), pp.349-354, 1991.
8.
McCarthy J.
Situations, actions and causal laws, Stanford Artificial Intelligence Project: Memo 2, 1963.
9, McCarthy J. and Hayes P. J.
Some philosophical problems from the standpoint of artificial intelligence, in Machine Intelligence, Vo1.4, (Eds.)
Meltzer B. and Michie D., Edinburgh University Press, pp.463-502, 1969.
4.
Conclusions  10.
Ma J. and Knight B.
A General Temporal Theory, The Computer Journal, 37(2), pp.114-123, 1994.
In this paper, we have presented a new formalism for representing general temporal causal relationships between events and their effects.
This formalism is in fact achieved by means of synthesising the quintessence of some representative theories, including that of McCarthy and Hayes [8, 91, Allen [2], Kowalski and Sergot [6],Lin and Shoham [7], Gelfond et a1 [4,51, Pinto and Reiter [13, 141, and Miller and Shanahan [ l l ] , etc.
The main technical contribution of the revised formalism in its power of expressing flexible temporal relationships between effects and their causes, including both immediate and delayed effects of events.
Also, it is shown that the new formalism supports common-sense assertions such as "effects cannot precede their causes".
11.
Miller R. S. and Shanahan M. P. Narratives in the Situation Calculus, the Journal of Logic and Computation, Vo1.4, No.5, pp.513-530, 1994.
12.
Pinto J. Temporal Reasoning in the Situation Calculus,  PhD Dissertation, University of Toronto, Department of Computer Science, KRR-TR-94-1, 1994.
13.
Pinto J. and Reiter R. Temporal Reasoning in Logic Programming: A Case for the Situation Calculus, In Proceedings of 10th Int.
ConJ on Logic Programming, Budapest, Hungary, June 21-24, 1993.
14.
Pinto J. and Reiter R. Reasoning about Time in the Situation Calculus, Annals of Mathematics and Artificial Intelligence, Vol:14, Iss:2-4, pp251-268, 1995.
References: 1.
Allen J. F. and Hayes P.J.
Moments and Points in an Interval-based Temporal-based Logic, Computational Intelligence, 5 , pp.225-238, 1989.
15.
Schubert L. Monotonic Solution of the Frame Problem in the Situation Calculus: an Efficient Method for Worlds with Fully Specified Actions, in: H.E.
Kyburg, R. Loui and G. Carlson, eds., Knowledge Representation and Defeasible Reasoning pp.23-67, Kluwer Academic Press, Boston, Mass., 1990.
2.
Allen J. F. Maintaining Knowledge about Temporal Intervals, Communication ofACM, 26, pp.123-154, 1983.
152